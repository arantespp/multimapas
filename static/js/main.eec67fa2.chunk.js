(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t){},24:function(e,t,a){e.exports=a(55)},29:function(e,t,a){},42:function(e,t,a){},47:function(e,t){},48:function(e,t){},49:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=(a(29),a(5)),i=a(6),s=a(2),u=a(7),m=a(18),d=a.n(m),f=(a(42),[{blockName:"Localiza\xe7\xe3o",fields:["NM_LOGRADO","NU_NUMERO","NM_COMPLEM","NM_BAIRRO"]},{blockName:"Paciente",fields:["DT_NOTIFIC","SEM_NOT","ID_UNIDADE","DT_SIN_PRI","SEM_PRI","NU_IDADE_N","CS_SEXO","CS_GESTANT"]},{blockName:"Cl\xednico",fields:["HOSPITALIZ","TPAUTOCTO","CLASSI_FIN"]}]),p=function(e){var t=e.close,a=e.data;return r.a.createElement(d.a,{isOpen:!!a,ariaHideApp:!1,style:{overlay:{zIndex:99},content:{zIndex:99,maxHeight:"90vh",maxWidth:"90vw",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"auto"}}},r.a.createElement("div",{className:"DataDetailsModal"},r.a.createElement("span",{style:{alignSelf:"flex-end",cursor:"pointer"},onClick:t},r.a.createElement(u.a,{icon:"times"})),r.a.createElement("span",{className:"modal-title"},"Detalhes"),!!a&&f.map(function(e){var t=e.blockName,n=e.fields;return r.a.createElement("div",{key:t,className:"block"},r.a.createElement("span",{className:"block-title"},t),r.a.createElement("ul",null,n.map(function(e){return r.a.createElement("li",{key:e,className:"block-line"},r.a.createElement("span",{className:"field"},e,":"),r.a.createElement("span",{className:"field-value"},a[e]?a[e]:"-"))})))}),r.a.createElement("button",{className:"button",onClick:t},"Fechar")))},E=a(22),N=a(12),v=a.n(N),b=(a(49),function(e,t){return Object(E.a)({},e,{id:t})}),h=function(e){var t=e.setData,a=Object(n.useRef)(null),c=Object(n.useState)(""),l=Object(s.a)(c,2),o=(l[0],l[1]),i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=(u[0],u[1]);return r.a.createElement("div",{className:"LoadData"},r.a.createElement("input",{style:{display:"none"},accept:".xlsx, .xls, .csv",type:"file",id:"fileInput",ref:a,onChange:function(e){if(e.target.files){m(!0);var a=e.target.files[0];o(a.name);var n=new FileReader;n.readAsBinaryString(a),n.onload=function(){var e=n.result,a=v.a.read(e,{type:"binary"}),r=a.SheetNames[0],c=a.Sheets[r],l=v.a.utils.sheet_to_json(c).map(b);m(!1),t(l)}}}}),r.a.createElement("button",{onClick:function(){a&&a.current&&a.current.click()}},"Carregar Dados"))},O=a(21),g=a(4),D=a(23),S=(a(52),function(){return!!window.MarkerClusterer}),w={name:"Positivo",filter:function(e,t){return["RESUL_PRNT","RESUL_SORO","RESUL_NS1","RESUL_VI_N","RESUL_PCR_","HISTOPA_N","IMUNOH_N"].map(function(t){return 1===Number(e[t])}).reduce(function(e,t){return e||t},!1)}},k={name:"Aut\xf3ctone",filter:function(e,t){return 1===Number(e.TPAUTOCTO)}},A=[w,k,{name:"N\xe3o Aut\xf3ctone",filter:function(e,t){return 1!==Number(e.TPAUTOCTO)}}],I=function(e){var t,a=e.chosenFiltersDefault,c=void 0===a?[]:a,l=e.data,o=e.showClusterDefault,i=void 0===o||o,m=e.openDataDetailsModal,d=Object(n.useRef)(null),f=Object(n.useState)(c),p=Object(s.a)(f,2),E=p[0],N=p[1],v=Object(n.useState)(),b=Object(s.a)(v,2),h=b[0],I=b[1],_=Object(n.useState)(i),C=Object(s.a)(_,2),M=C[0],j=C[1],y=[];Object(n.useEffect)(function(){return function(){y.forEach(function(e){return e.setMap(null)}),t&&t.clearMarkers()}});var T=function(){j(!M)};return r.a.createElement("div",{className:"Maps"},r.a.createElement("div",{className:"menu"},r.a.createElement(function(){return r.a.createElement(g.Accordion,{className:"Accordion",allowZeroExpanded:!0,preExpanded:["0"]},r.a.createElement(g.AccordionItem,{uuid:"0"},r.a.createElement(g.AccordionItemHeading,null,r.a.createElement(g.AccordionItemButton,{className:"AccordionItemButton"},r.a.createElement(u.a,{icon:"angle-down"}))),r.a.createElement(g.AccordionItemPanel,null,S()?r.a.createElement("div",null,r.a.createElement("input",{onChange:T,type:"checkbox",checked:M}),r.a.createElement("span",null,"Mostrar Clusters")):null,A.map(function(e){var t,a,n=e.name;return r.a.createElement("div",{key:n},r.a.createElement("input",{onChange:(a=n,function(){N(function(e){return e.find(function(e){return e===a})?e.filter(function(e){return e!==a}):[].concat(Object(O.a)(e),[a])})}),type:"checkbox",name:n,value:n,checked:(t=n,!!E.find(function(e){return t===e}))}),r.a.createElement("span",null,n))}))))},null)),r.a.createElement(D.a,{params:{key:"AIzaSyA_fdJhInwwadaeFnUAe-r18Wzhx4S3-o4",libraries:"places,geometry"},render:function(e){var a;return e&&(h||I(new e.Map(d.current,{center:{lat:-22.0087,lng:-47.8909},mapTypeControl:!1,zoom:14})),y=l.filter((a=E,function(e,t){return A.filter(function(e){var t=e.name;return!!a.find(function(e){return e===t})}).reduce(function(a,n){var r=n.filter;return a&&r(e,t)},!0)})).map(function(t){var a,n=new e.LatLng(Number(t.latitude),Number(t.longitude)),r=new e.Marker({position:n,map:h,icon:(a=t,w.filter(a,0)?k.filter(a,0)?"https://maps.google.com/mapfiles/ms/icons/yellow-dot.png":"https://maps.google.com/mapfiles/ms/icons/green-dot.png":"https://maps.google.com/mapfiles/ms/icons/blue-dot.png")});return r.addListener("dblclick",function(e){m(t)}),r}),h&&M&&S()&&(t=new MarkerClusterer(h,y,{imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"}))),r.a.createElement("div",{className:"map",ref:d})}}))},_=(a(53),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(s.a)(l,2),i=o[0],u=o[1];return 0===a.length?r.a.createElement("div",{className:"LoadData"},r.a.createElement(h,{setData:c})):r.a.createElement("div",{className:"Multimapa"},r.a.createElement(p,{data:i,close:function(){u(null)}}),r.a.createElement(I,{data:a,openDataDetailsModal:u}),r.a.createElement(I,{data:a,showClusterDefault:!1,chosenFiltersDefault:["Positivo"],openDataDetailsModal:u}),r.a.createElement(I,{data:a,showClusterDefault:!1,chosenFiltersDefault:["Positivo","Aut\xf3ctone"],openDataDetailsModal:u}),r.a.createElement(I,{data:a,showClusterDefault:!1,chosenFiltersDefault:["Positivo","N\xe3o Aut\xf3ctone"],openDataDetailsModal:u}))});a(54);o.b.add(i.a,i.b,i.c,i.d);var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:""},r.a.createElement("span",{className:""},"Multimapa App")),r.a.createElement("main",{className:""},r.a.createElement(_,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.eec67fa2.chunk.js.map