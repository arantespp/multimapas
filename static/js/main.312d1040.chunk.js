(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t){},24:function(e,t,a){e.exports=a(55)},29:function(e,t,a){},42:function(e,t,a){},47:function(e,t){},48:function(e,t){},49:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=(a(29),a(5)),i=a(6),u=a(2),s=a(7),m=a(19),f=a.n(m),d=(a(42),[{blockName:"Localiza\xe7\xe3o",fields:["NM_LOGRADO","NU_NUMERO","NM_COMPLEM","NM_BAIRRO"]},{blockName:"Paciente",fields:["DT_NOTIFIC","SEM_NOT","ID_UNIDADE","DT_SIN_PRI","SEM_PRI","NU_IDADE_N","CS_SEXO","CS_GESTANT"]},{blockName:"Cl\xednico",fields:["HOSPITALIZ","TPAUTOCTO","CLASSI_FIN"]}]),p=function(e){var t=e.close,a=e.data;return r.a.createElement(f.a,{isOpen:!!a,ariaHideApp:!1,style:{overlay:{zIndex:99},content:{zIndex:99,maxHeight:"90vh",maxWidth:"90vw",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"auto"}}},r.a.createElement("div",{className:"DataDetailsModal"},r.a.createElement("span",{style:{alignSelf:"flex-end",cursor:"pointer"},onClick:t},r.a.createElement(s.a,{icon:"times"})),r.a.createElement("span",{className:"modal-title"},"Detalhes"),!!a&&d.map(function(e){var t=e.blockName,n=e.fields;return r.a.createElement("div",{key:t,className:"block"},r.a.createElement("span",{className:"block-title"},t),r.a.createElement("ul",null,n.map(function(e){return r.a.createElement("li",{key:e,className:"block-line"},r.a.createElement("span",{className:"field"},e,":"),r.a.createElement("span",{className:"field-value"},a[e]?a[e]:"-"))})))}),r.a.createElement("button",{className:"button",onClick:t},"Fechar")))},E=a(22),N=a(12),b=a.n(N),v=(a(49),function(e,t){return Object(E.a)({},e,{id:t})}),h=function(e){var t=e.setData,a=Object(n.useRef)(null),c=Object(n.useState)(""),l=Object(u.a)(c,2),o=(l[0],l[1]),i=Object(n.useState)(!1),s=Object(u.a)(i,2),m=(s[0],s[1]);return r.a.createElement("div",{className:"LoadData"},r.a.createElement("input",{style:{display:"none"},accept:".xlsx, .xls, .csv",type:"file",id:"fileInput",ref:a,onChange:function(e){if(e.target.files){m(!0);var a=e.target.files[0];o(a.name);var n=new FileReader;n.readAsBinaryString(a),n.onload=function(){var e=n.result,a=b.a.read(e,{type:"binary"}),r=a.SheetNames[0],c=a.Sheets[r],l=b.a.utils.sheet_to_json(c).map(v);m(!1),t(l)}}}}),r.a.createElement("button",{onClick:function(){a&&a.current&&a.current.click()}},"Carregar Dados"))},O=a(13),g=a(4),D=a(23),w=(a(52),function(){return!!window.MarkerClusterer}),S={name:"Positivo",filter:function(e,t){return["RESUL_PRNT","RESUL_SORO","RESUL_NS1","RESUL_VI_N","RESUL_PCR_","HISTOPA_N","IMUNOH_N"].map(function(t){return 1===Number(e[t])}).reduce(function(e,t){return e||t},!1)}},k={name:"Aut\xf3ctone",filter:function(e,t){return 1===Number(e.TPAUTOCTO)}},A=[S,k,{name:"N\xe3o Aut\xf3ctone",filter:function(e,t){return 1!==Number(e.TPAUTOCTO)}}],I=function(e){var t,a,c=e.chosenFiltersDefault,l=void 0===c?[]:c,o=e.data,i=e.showClusterDefault,m=void 0===i||i,f=e.openDataDetailsModal,d=Object(n.useRef)(null),p=Object(n.useState)(l),E=Object(u.a)(p,2),N=E[0],b=E[1],v=Object(n.useState)(),h=Object(u.a)(v,2),I=h[0],_=h[1],M=Object(n.useState)(m),C=Object(u.a)(M,2),y=C[0],j=C[1],T=[];Object(n.useEffect)(function(){return function(){T.forEach(function(e){return e.setMap(null)}),a&&a.clearMarkers()}});var R=function(){j(!y)};return r.a.createElement("div",{className:"Maps"},r.a.createElement("div",{className:"menu"},r.a.createElement(function(){return r.a.createElement(g.Accordion,{className:"Accordion",allowZeroExpanded:!0,preExpanded:["0"]},r.a.createElement(g.AccordionItem,{uuid:"0"},r.a.createElement(g.AccordionItemHeading,null,r.a.createElement(g.AccordionItemButton,{className:"AccordionItemButton"},r.a.createElement(s.a,{icon:"angle-down"}))),r.a.createElement(g.AccordionItemPanel,null,w()?r.a.createElement("div",null,r.a.createElement("input",{onChange:R,type:"checkbox",checked:y}),r.a.createElement("span",null,"Mostrar Clusters")):null,A.map(function(e){var t,a,n=e.name;return r.a.createElement("div",{key:n},r.a.createElement("input",{onChange:(a=n,function(){b(function(e){return e.find(function(e){return e===a})?e.filter(function(e){return e!==a}):[].concat(Object(O.a)(e),[a])})}),type:"checkbox",name:n,value:n,checked:(t=n,!!N.find(function(e){return t===e}))}),r.a.createElement("span",null,n))}))))},null)),r.a.createElement(D.a,{params:{key:"AIzaSyA_fdJhInwwadaeFnUAe-r18Wzhx4S3-o4",libraries:"places,geometry"},render:function(e){var n;return e&&(I||_(new e.Map(d.current,{center:{lat:-22.0087,lng:-47.8909},mapTypeControl:!1,zoom:14})),t||(t=Object(O.a)(Array(10)).map(function(t,a){return new e.KmlLayer({map:I,preserveViewport:!0,url:"https://arantespp.github.io/multimapas/KMZs/".concat(100*a,".kmz")})})),T=o.filter((n=N,function(e,t){return A.filter(function(e){var t=e.name;return!!n.find(function(e){return e===t})}).reduce(function(a,n){var r=n.filter;return a&&r(e,t)},!0)})).map(function(t){var a,n=new e.LatLng(Number(t.latitude),Number(t.longitude)),r=new e.Marker({position:n,map:I,icon:(a=t,S.filter(a,0)?k.filter(a,0)?"https://maps.google.com/mapfiles/ms/icons/yellow-dot.png":"https://maps.google.com/mapfiles/ms/icons/green-dot.png":"https://maps.google.com/mapfiles/ms/icons/blue-dot.png")});return r.addListener("dblclick",function(e){f(t)}),r}),I&&y&&w()&&(a=new MarkerClusterer(I,T,{imagePath:"./markerclusterer/m"}))),r.a.createElement("div",{className:"map",ref:d})}}))},_=(a(53),function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(u.a)(l,2),i=o[0],s=o[1];return 0===a.length?r.a.createElement("div",{className:"LoadData"},r.a.createElement(h,{setData:c})):r.a.createElement("div",{className:"Multimapa"},r.a.createElement(p,{data:i,close:function(){s(null)}}),r.a.createElement(I,{data:a,openDataDetailsModal:s}),r.a.createElement(I,{data:a,showClusterDefault:!1,chosenFiltersDefault:["Positivo"],openDataDetailsModal:s}),r.a.createElement(I,{data:a,showClusterDefault:!1,chosenFiltersDefault:["Positivo","Aut\xf3ctone"],openDataDetailsModal:s}),r.a.createElement(I,{data:a,showClusterDefault:!1,chosenFiltersDefault:["Positivo","N\xe3o Aut\xf3ctone"],openDataDetailsModal:s}))});a(54);o.b.add(i.a,i.b,i.c,i.d);var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:""},r.a.createElement("span",{className:""},"Multimapa App")),r.a.createElement("main",{className:""},r.a.createElement(_,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.312d1040.chunk.js.map